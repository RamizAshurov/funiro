/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/app.js":
/*!***********************!*\
  !*** ./src/js/app.js ***!
  \***********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\nwindow.onload = function() {\r\n  const isMobile = {\r\n    Android: function() {\r\n        return navigator.userAgent.match(/Android/i);\r\n    },\r\n    BlackBerry: function() {\r\n        return navigator.userAgent.match(/BlackBerry/i);\r\n    },\r\n    iOS: function() {\r\n        return navigator.userAgent.match(/iPhone|iPad|iPod/i);\r\n    },\r\n    Opera: function() {\r\n        return navigator.userAgent.match(/Opera Mini/i);\r\n    },\r\n    Windows: function() {\r\n        return navigator.userAgent.match(/IEMobile/i) || navigator.userAgent.match(/WPDesktop/i);\r\n    },\r\n    any: function() {\r\n        return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());\r\n    }\r\n  };\r\n\r\n  document.addEventListener(\"click\", documentActions);\r\n\r\n  function documentActions(e) {\r\n    const targetEl = e.target;\r\n\r\n    // submenu on desktop devices\r\n    if (window.innerWidth > 768 && isMobile.any()) {\r\n      if (targetEl.classList.contains(\"menu__arrow\")) {\r\n        targetEl.closest(\".menu__item\").classList.toggle(\"menu__item_hover\")\r\n      }\r\n\r\n      if (!targetEl.closest(\".menu__item\")) {\r\n        const activeMenuItems = document.querySelectorAll(\".menu__item_hover\");\r\n        if (activeMenuItems.length) {\r\n          for (let i = 0; i < activeMenuItems.length; i++) {\r\n            activeMenuItems[i].classList.remove(\"menu__item_hover\")\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (window.innerWidth <= 768) {\r\n      if (targetEl.classList.contains(\"menu__arrow\")) {\r\n        targetEl.closest(\".menu__item\").classList.toggle(\"menu__item_open\")\r\n      }\r\n    }\r\n\r\n    // burger menu\r\n    if (targetEl.classList.contains(\"header__burger\")) {\r\n      targetEl.classList.toggle(\"header__burger_open\");\r\n      document.querySelector(\".header__nav\").classList.toggle(\"header__nav_open\")\r\n    }\r\n\r\n    // header search form mobile\r\n    if (targetEl.classList.contains(\"header__search-icon\")) {\r\n      targetEl.nextElementSibling.classList.toggle(\"header__search-form_open\")\r\n    }\r\n    if(!targetEl.closest(\".header__search\") && document.querySelectorAll(\".header__search-form_open\").length > 0) {\r\n      document.querySelector(\".header__search-form_open\").classList.remove(\"header__search-form_open\")\r\n    }\r\n\r\n    // Products\r\n    if (targetEl.classList.contains(\"our-products__more\")) {\r\n      if (!targetEl.classList.contains(\"button_outlined_loading\")) {\r\n        targetEl.classList.add(\"button_outlined_loading\");\r\n        setTimeout(() => {\r\n          fetchProducts()\r\n          targetEl.remove()\r\n        }, 2000)\r\n      }\r\n    }\r\n\r\n    // Toggle cart\r\n    if (targetEl.closest(\".icon-cart\")) {\r\n      if (document.querySelectorAll(\".cart-product\").length) {\r\n        targetEl.closest(\".header__actions-item_cart\").classList.toggle(\"header__actions-item_cart_open\");\r\n      }\r\n      e.preventDefault()\r\n    } else if (!targetEl.closest(\".header__actions-item_cart\") && !targetEl.classList.contains(\"product__actions-button\")) {\r\n      document.querySelector(\".header__actions-item_cart\").classList.remove(\"header__actions-item_cart_open\")\r\n    }\r\n    // Add product to cart \r\n    if (targetEl.classList.contains(\"product__actions-button\")) {\r\n      if (!targetEl.classList.contains(\"product__actions-button_hold\")) {\r\n        targetEl.classList.add(\"product__actions-button_hold\");\r\n        targetEl.classList.add(\"product__actions-button_fly\");\r\n        addToCart(targetEl);\r\n        e.preventDefault();\r\n      }\r\n    }\r\n\r\n    // Delete product from cart \r\n    if (targetEl.classList.contains(\"cart-product__delete\")) {\r\n      updateCart(targetEl, false)\r\n      e.preventDefault()\r\n    }\r\n\r\n    // footer's lists\r\n    if (targetEl.closest(\".footer__col_list\")) {\r\n      targetEl.closest(\".footer__col_list\").classList.toggle(\"footer__col_list_open\")\r\n    }\r\n  }\r\n\r\n  // Main slider\r\n  new Swiper(\".main-slider__slider .swiper\", {\r\n    // configure Swiper to use modules\r\n    // modules: [Navigation, Pagination],\r\n    slidesPerView: 1,\r\n    spaceBetween: 32,\r\n    loop: true,\r\n    loopedSlides: 3,\r\n    speed: 300,\r\n    pagination: {\r\n      el: \".swiper-pagination\",\r\n      type: \"bullets\"\r\n    },\r\n    navigation: {\r\n      nextEl: \".swiper-button-next\",\r\n      prevEl: \".swiper-button-prev\",\r\n    },\r\n  })\r\n\r\n  // Room slider\r\n  new Swiper(\".rooms__slider .swiper\", {\r\n    slidesPerView: \"auto\",\r\n    spaceBetween: 24,\r\n    loop: true,\r\n    loopedSlides: 3,\r\n    speed: 300,\r\n    pagination: {\r\n      el: \".swiper-pagination\",\r\n      type: \"bullets\"\r\n    },\r\n    navigation: {\r\n      nextEl: \".swiper-button-next\",\r\n      prevEl: \".swiper-button-prev\",\r\n    },\r\n  })\r\n\r\n    // Tips slider\r\n    new Swiper(\".tips__slider .swiper\", {\r\n      slidesPerView: 3,\r\n      spaceBetween: 32,\r\n      loop: true,\r\n      speed: 300,\r\n      pagination: {\r\n        el: \".swiper-pagination\",\r\n        type: \"bullets\"\r\n      },\r\n      navigation: {\r\n        nextEl: \".swiper-button-next\",\r\n        prevEl: \".swiper-button-prev\",\r\n      },\r\n\r\n      breakpoints: {\r\n        320: {\r\n          slidesPerView: 1.1,\r\n          spaceBetween: 15\r\n        },\r\n        768: {\r\n          slidesPerView: 2,\r\n          spaceBetween: 20\r\n        },  \r\n        992: {\r\n          slidesPerView: 3,\r\n          spaceBetween: 32\r\n        }\r\n      }\r\n    })\r\n\r\n\r\n  // Header\r\n  const headerEl = document.querySelector(\".header\");\r\n\r\n  const callback = function(entries, observer) {\r\n    if (entries[0].isIntersecting) {\r\n      headerEl.classList.remove(\"header_scroll\")\r\n    } else {\r\n      headerEl.classList.add(\"header_scroll\")\r\n    }\r\n  }\r\n\r\n  const headerObserver = new IntersectionObserver(callback)\r\n  headerObserver.observe(headerEl)\r\n\r\n  // Products\r\n  async function fetchProducts() {\r\n    const response = await fetch(\"./json/products.json\", {\r\n      method: \"GET\"\r\n    });\r\n    if (response.ok) {\r\n      let result = await response.json()\r\n      loadProducts(result)\r\n    } else {\r\n      console.log(\"Error!!\")\r\n    }\r\n  }\r\n\r\n  function loadProducts(data) {\r\n    const products = document.querySelector(\".our-products__list\");\r\n\r\n    data.products.forEach(product => {\r\n      let productTemplateStart = `<div class=\"our-products__list-item product\" data-pid=\"${product.id}\">`\r\n      let productTemplateEnd = `</div>`\r\n\r\n      let productImageTemplate = `\r\n        <a class=\"product__img\" href=\"${product.url}\">\r\n          <img src=\"./images/products/${product.image}\" alt=\"image\">\r\n        </a>\r\n      `\r\n\r\n      let productBodyTemmplateStart = `\r\n        <div class=\"product__body\">\r\n          <div class=\"product__name\">${product.title}</div>\r\n          <div class=\"product__desc\">${product.text}</div>\r\n      `\r\n      let productBodyTemplateEnd = `</div>`\r\n\r\n      let productNewPriceTemplate = `<span class=\"product__new-price\">Rp ${product.price}</span>`\r\n      let productOldPriceTemplate = \"\";\r\n      if (product.priceOld) {\r\n        productOldPriceTemplate = `<span class=\"product__old-price\">Rp ${product.priceOld}</span>`\r\n      }\r\n      let productPricesTemplate = `<div class=\"product__price-block\">` + productNewPriceTemplate + productOldPriceTemplate + \"</div>\"\r\n\r\n      let productActionsTemplate = `\r\n        <div class=\"product__actions\">\r\n          <div class=\"product__actions-wrapper\">\r\n            <button class=\"product__actions-button button button_filled_white\" type=\"button\">Add to Cart</button>\r\n            <a href=\"#${product.shareUrl}\" class=\"product__actions-link icon-share\">Share</a>\r\n            <a href=\"#${product.likeUrl}\" class=\"product__actions-link icon-favorite\">Like</a>\r\n          </div>\r\n        </div>\r\n      `\r\n      let productBodyTemplate = productBodyTemmplateStart + productPricesTemplate + productActionsTemplate + productBodyTemplateEnd;\r\n\r\n      let productLabelsTemplateStart = `<div class=\"product__labels\">`\r\n      let productLabelsTemplateEnd = `</div>`\r\n\r\n      let productLabelsTemplateBody = \"\"\r\n\r\n      if (product.labels) {\r\n        for (let i = 0; i < product.labels.length; i++) {\r\n          productLabelsTemplateBody += `<div class=\"product__label product__label_${product.labels[i].type}\">${product.labels[i].value}</div>`\r\n        }\r\n      }\r\n\r\n      let productLabelsTemplate = productLabelsTemplateStart + productLabelsTemplateBody + productLabelsTemplateEnd;\r\n\r\n      let productTemplate = productTemplateStart + productImageTemplate + productBodyTemplate + productLabelsTemplate + productTemplateEnd;\r\n\r\n      products.insertAdjacentHTML(\"beforeend\", productTemplate)\r\n    })\r\n  }\r\n\r\n  function addToCart(productButton) {\r\n    const currentProduct = productButton.closest(\".our-products__list-item\");\r\n    const productImage = currentProduct.querySelector(\".product__img img\");\r\n\r\n    const productImageClone = productImage.cloneNode();\r\n\r\n    productImageClone.style.cssText = `\r\n      top: ${productImage.getBoundingClientRect().top}px;\r\n      left: ${productImage.getBoundingClientRect().left}px;\r\n      width: ${productImage.offsetWidth}px;\r\n      height: ${productImage.offsetHeight}px;\r\n    `\r\n\r\n    productImageClone.setAttribute(\"class\", \"fly-image\");\r\n\r\n    document.body.append(productImageClone);\r\n\r\n    const cart = document.querySelector(\".icon-cart\");\r\n    const productImageCloneEl = document.querySelector(\".fly-image\");\r\n    productImageClone.style.cssText = `\r\n      top: ${cart.getBoundingClientRect().top}px;\r\n      left: ${cart.getBoundingClientRect().left}px;\r\n      width: 20px;\r\n      height: 20px;\r\n      opacity: 0.2;\r\n    `\r\n\r\n    productImageCloneEl.addEventListener(\"transitionend\", () => {\r\n      if (productButton.classList.contains(\"product__actions-button_fly\")) {\r\n        productButton.classList.remove(\"product__actions-button_fly\");\r\n        console.log(\"added to cart\");\r\n        productImageClone.remove()\r\n        updateCart(productButton)\r\n      }\r\n    })\r\n  }\r\n\r\n  function updateCart(productButton, productAdd = true) {\r\n    const cartHeader = document.querySelector(\".header__actions-item_cart\");\r\n    const cartIcon = cartHeader.querySelector(\".icon-cart\");\r\n    const cartQuantity = cartIcon.querySelector(\"span\");\r\n    const cartList = cartHeader.querySelector(\".header__cart-list\");\r\n\r\n    if (productAdd) {\r\n      const currentProduct = productButton.closest(\".our-products__list-item\");\r\n      let cartProduct = cartList.querySelector(`[data-product-id=\"${currentProduct.dataset.pid}\"]`)\r\n\r\n      if (cartProduct) {\r\n        const cartProductQuantity = cartProduct.querySelector(\".cart-product__quantity span\");\r\n        cartProductQuantity.innerHTML = +cartProductQuantity.innerHTML + 1;\r\n      } else {\r\n        const productImage = currentProduct.querySelector(\"img\");\r\n        const productName = currentProduct.querySelector(\".product__name\");\r\n  \r\n        cartProduct = `\r\n          <li class=\"cart-product\" data-product-id=\"${currentProduct.dataset.pid}\">\r\n            <a href=\"#\" class=\"cart-product__img\"><img src=\"${productImage.getAttribute(\"src\")}\"></a>\r\n            <div class=\"cart-product__body\">\r\n              <a href=\"#\" class=\"cart-product__name\">${productName.innerHTML}</a>\r\n              <div class=\"cart-product__quantity\">Quantity: <span>1</span></div>\r\n              <a href=\"#\" class=\"cart-product__delete\">Delete</a>\r\n            </div>\r\n          </li>\r\n        `\r\n        cartList.insertAdjacentHTML(\"beforeend\", cartProduct);\r\n      }\r\n  \r\n      cartHeader.classList.add(\"header__actions-item_cart_open\")\r\n  \r\n      if (cartQuantity) {\r\n        cartQuantity.innerHTML = +cartQuantity.innerHTML + 1;\r\n      } else {\r\n        cartIcon.insertAdjacentHTML(\"beforeend\", `<span class=\"quantity\">1</span>`)\r\n      }\r\n  \r\n      productButton.classList.remove(\"product__actions-button_hold\")\r\n    } else {\r\n      const cartProduct = productButton.closest(\".cart-product\");\r\n      const cartProductQuantity = cartProduct.querySelector(\".cart-product__quantity span\");\r\n  \r\n      if (+cartProductQuantity.innerHTML === 1) {\r\n        cartProduct.remove()\r\n      } else {\r\n        cartProductQuantity.innerHTML = +cartProductQuantity.innerHTML - 1;\r\n      }\r\n  \r\n      if (+cartQuantity.innerHTML == 1) {\r\n        document.querySelector(\".header__actions-item_cart\").classList.remove(\"header__actions-item_cart_open\")\r\n        cartQuantity.remove()\r\n      } else {\r\n        cartQuantity.innerHTML = +cartQuantity.innerHTML - 1\r\n      }\r\n\r\n    }\r\n  \r\n  \r\n  }\r\n\r\n  // Furniture\r\n\r\n  const furniture = document.querySelector(\".furniture__body\");\r\n  const furnitureColumns = furniture.querySelectorAll(\".furniture__columns\")\r\n  const furnitureItems = furniture.querySelector(\".furniture__items\")\r\n\r\n  let coordXPercent = 0;\r\n\r\n  if (furniture && !isMobile.any()) {\r\n    const speed = 0.01;\r\n\r\n    function setGalleryPosition() {\r\n      let furnitureItemsWidth = 0;\r\n\r\n      furnitureColumns.forEach(element => furnitureItemsWidth += element.offsetWidth);\r\n\r\n      const furnitureDiff = furnitureItemsWidth - furniture.offsetWidth;\r\n      let position = furnitureDiff / 2 * coordXPercent;\r\n\r\n      furnitureItems.style.cssText = `transform: translate3d(${-position}px, 0, 0)`\r\n\r\n      if (coordXPercent < 1) {\r\n        requestAnimationFrame(setGalleryPosition);\r\n      } else {\r\n        furniture.classList.remove(\"_init\")\r\n      }\r\n\r\n    }\r\n\r\n    furniture.addEventListener(\"mousemove\", e => {\r\n      const furnitureWidth = furniture.offsetWidth;\r\n\r\n      let coordX = e.pageX - furnitureWidth / 2;\r\n\r\n      coordXPercent = coordX / furnitureWidth * 2;\r\n\r\n      if (!furniture.classList.contains(\"_init\")) {\r\n        requestAnimationFrame(setGalleryPosition);\r\n        furniture.classList.add(\"_init\")\r\n      }\r\n    })\r\n }\r\n}\n\n//# sourceURL=webpack://gulp-start/./src/js/app.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The require scope
/******/ 	var __webpack_require__ = {};
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/js/app.js"](0, __webpack_exports__, __webpack_require__);
/******/ 	
/******/ })()
;